function ContextMenu(e){var t=document.createElement("DIV");if(t.classList.add("BSCM_contextmenu"),t.style.opacity="1",!e)return console.error(new Error("No object passed."));if(!e.items)return console.error(new Error("No context menu items."));var n=["light","dark","deviceTheme"];if(e.theme){var i=!1;for(var o in n)e.theme===n[o]&&(i=!0);1==i&&t.classList.add("BSCM_"+e.theme)}function r(e,t){t.oncontextmenu=function(t){t.preventDefault();var n={x:t.clientX,y:t.clientY};function i(){e.style.top=n.y+"px",e.style.left=n.x+"px";var t=e.getBoundingClientRect();t.left+t.width>window.innerWidth&&(e.style.left=n.x-t.width+"px"),t.top+t.height>window.innerHeight&&(e.style.top=n.y-t.height+"px")}1==e.open?(e.style.transition="0.3s opacity",setTimeout(function(){e.style.opacity="0",setTimeout(function(){e.style.transition="0s opacity",i(),e.style.opacity="1"},200)},0),e.open=!0):(e.style.opacity="1",i(),e.style.transition="0"),document.body.appendChild(e),e.open=!0},onclick=function(t){if(0==e.open)return e.style.transition="0";(t.target.classList[0]||" ").toString().includes("BSCM")||(e.open=!1,e.style.transition="0.3s",e.style.opacity="0",setTimeout(function(){e.style.transition="0",e.remove()},200))}}!function e(t,n){for(var i=0;i<n.length;i++){var o;if(1!==n[i])if(n[i].name||console.error(new Error("Item "+i+" does not have a name.")),(o=document.createElement("DIV")).index=i,o.classList.add("BSCM_item"),t.insertAdjacentElement("beforeend",o),o.innerHTML=n[i].name,n[i].disabled&&o.classList.add("BSCM_itemDisabled"),n[i].items){o.classList.add("BSCM_nestedContainer");var r=document.createElement("DIV");r.classList.add("BSCM_nested"),o.insertAdjacentElement("beforeend",r);try{e(r,n[i].items)}catch(e){console.error(e)}t.insertAdjacentElement("beforeend",o)}else o.onclick=function(e){e.target.style.animationName="BSCM_flash",setTimeout(function(){e.target.style.animationName="",n[e.target.index].action&&n[e.target.index].action()},200)};else(o=document.createElement("DIV")).classList.add("BSCM_separator"),t.insertAdjacentElement("beforeend",o)}}(t,e.items),this.attach=function(e){if(!e){var n=new Error("No element passed to attach to.");console.error(n)}if(e.length)for(var i=0;i<e.length;i++)r(t,e[i]);else try{r(t,e)}catch(n){console.error(n)}}}